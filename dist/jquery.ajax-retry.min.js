function pipeFailRetry(a,b){var c=b.times,d=b.timeout;return function(e,f,g){function h(){i=$.ajax(j).retry({times:c-1,timeout:b.timeout,statusCodes:b.statusCodes}).then(k.resolve,k.reject)}var i,j=this,k=new $.Deferred,l=a.getResponseHeader("Retry-After");return k.abort=function(a){i.abort(a)},c>1&&(!a.statusCodes||$.inArray(e.status,a.statusCodes)>-1)?(l&&(d=isNaN(l)?new Date(l).getTime()-$.now():1e3*parseInt(l,10),(isNaN(d)||d<0)&&(d=b.timeout)),void 0!==d?setTimeout(h,d):h()):k.rejectWith(this,arguments),k}}var $=require("jquery");$.ajaxPrefilter(function(a,b,c){c.retry=function(a){return a.statusCodes&&(this.statusCodes=a.statusCodes),this.then(null,pipeFailRetry(this,a))}});